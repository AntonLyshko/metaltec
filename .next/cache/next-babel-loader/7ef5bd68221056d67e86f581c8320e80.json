{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\Next\\\\metaltec\\\\pages\\\\checkout.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Stripe from \"stripe\";\nimport { parseCookies, setCookie } from 'nookies';\nexport const getServerSideProps = async ctx => {\n  const stripe = new Stripe('sk_test_51HfCQbKalev6rGvBBX6I9TSerXOC1w0RKBoeEwE1JEgtyb4KhIB3DiJ6F4o4ahgsI8SHEjXDARqSOXdqfQoNXzUa00j0b8kC5j');\n  let paymentIntent;\n  const {\n    paymentIntentId\n  } = await parseCookies(ctx);\n\n  if (paymentIntentId) {\n    paymentIntent = await stripe.paymentIntents.retrieve(paymentIntentId);\n    return {\n      props: {\n        paymentIntent\n      }\n    };\n  }\n\n  paymentIntent = await stripe.paymentIntents.create({\n    amount: 1500,\n    currency: 'czk'\n  });\n  setCookie(ctx, 'paymentIntentId', paymentIntent.id);\n  return {\n    props: {\n      paymentIntent\n    }\n  };\n};\n\nconst CheckoutPage = props => {\n  return __jsx(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, JSON.stringify(props, null, 2));\n};\n\nexport default CheckoutPage;","map":{"version":3,"sources":["C:/Users/anton/Desktop/Next/metaltec/pages/checkout.js"],"names":["Stripe","parseCookies","setCookie","getServerSideProps","ctx","stripe","paymentIntent","paymentIntentId","paymentIntents","retrieve","props","create","amount","currency","id","CheckoutPage","JSON","stringify"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,SAAxC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAOC,GAAP,IAAe;AAC7C,QAAMC,MAAM,GAAG,IAAIL,MAAJ,CAAW,6GAAX,CAAf;AACA,MAAIM,aAAJ;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAsB,MAAMN,YAAY,CAACG,GAAD,CAA9C;;AAEA,MAAIG,eAAJ,EAAqB;AACjBD,IAAAA,aAAa,GAAG,MAAMD,MAAM,CAACG,cAAP,CAAsBC,QAAtB,CAA+BF,eAA/B,CAAtB;AACA,WAAO;AACHG,MAAAA,KAAK,EAAE;AACHJ,QAAAA;AADG;AADJ,KAAP;AAKH;;AAEDA,EAAAA,aAAa,GAAG,MAAMD,MAAM,CAACG,cAAP,CAAsBG,MAAtB,CAA6B;AAC/CC,IAAAA,MAAM,EAAE,IADuC;AAE/CC,IAAAA,QAAQ,EAAE;AAFqC,GAA7B,CAAtB;AAKAX,EAAAA,SAAS,CAACE,GAAD,EAAM,iBAAN,EAAyBE,aAAa,CAACQ,EAAvC,CAAT;AAEA,SAAO;AACHJ,IAAAA,KAAK,EAAE;AACHJ,MAAAA;AADG;AADJ,GAAP;AAKH,CA1BM;;AA6BP,MAAMS,YAAY,GAAGL,KAAK,IAAI;AAE1B,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMM,IAAI,CAACC,SAAL,CAAeP,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAAN,CADJ;AAGH,CALD;;AAOA,eAAeK,YAAf","sourcesContent":["import Stripe from \"stripe\";\r\nimport { parseCookies, setCookie } from 'nookies'\r\n\r\nexport const getServerSideProps = async (ctx) => {\r\n    const stripe = new Stripe('sk_test_51HfCQbKalev6rGvBBX6I9TSerXOC1w0RKBoeEwE1JEgtyb4KhIB3DiJ6F4o4ahgsI8SHEjXDARqSOXdqfQoNXzUa00j0b8kC5j');\r\n    let paymentIntent;\r\n    const { paymentIntentId } = await parseCookies(ctx);\r\n\r\n    if (paymentIntentId) {\r\n        paymentIntent = await stripe.paymentIntents.retrieve(paymentIntentId);\r\n        return {\r\n            props: {\r\n                paymentIntent\r\n            }\r\n        }\r\n    }\r\n\r\n    paymentIntent = await stripe.paymentIntents.create({\r\n        amount: 1500,\r\n        currency: 'czk'\r\n    });\r\n\r\n    setCookie(ctx, 'paymentIntentId', paymentIntent.id);\r\n\r\n    return {\r\n        props: {\r\n            paymentIntent\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst CheckoutPage = props => {\r\n\r\n    return (\r\n        <pre>{JSON.stringify(props, null, 2)}</pre>\r\n    )\r\n}\r\n\r\nexport default CheckoutPage;"]},"metadata":{},"sourceType":"module"}