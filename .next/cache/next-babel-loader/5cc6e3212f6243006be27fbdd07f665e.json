{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\Next\\\\metaltec\\\\pages\\\\product\\\\[id].js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from \"next/router\";\nimport $ from 'jquery';\nimport React, { useState } from 'react';\nimport SliderProduct from '../../components/sliders/slider-product.js';\nimport axios from 'axios';\nimport RichText from './components/richText';\nimport NumericInput from 'react-numeric-input';\nimport ReactLoading from 'react-loading';\nexport default _s(function () {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState({\n    data: null,\n    amount: 1\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var getData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get('http://localhost:1337/products?slug=' + id);\n\n            case 2:\n              res = _context.sent;\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                data: res.data[0]\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (router.query.id && !state.data) {\n    getData(router.query.id);\n  }\n\n  var addToCart = function addToCart(id) {\n    $('.af-class-btn').toggleClass('active');\n    $('.cart-btn-text-1').fadeToggle(0);\n    $('.cart-btn-text-2').fadeToggle(0);\n    var amount = state.amount;\n    var products = [];\n    var unic = true;\n\n    if (localStorage.getItem('products')) {\n      products = JSON.parse(localStorage.getItem('products'));\n      console.log(products);\n    }\n\n    if (products.length) {\n      products.forEach(function (el) {\n        console.log(products);\n\n        if (el.id == id) {\n          el.amount += amount;\n          unic = false;\n        }\n      });\n    }\n\n    if (unic) products.push({\n      'id': id,\n      'amount': amount,\n      'name': state.data.Name,\n      'image': state.data.Images[0].url,\n      'price': state.data.Price\n    });\n    localStorage.setItem('products', JSON.stringify(products));\n  };\n\n  var amountChange = function amountChange(num) {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      amount: num\n    }));\n  };\n\n  if (state.data) {\n    console.log(state.data);\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-section\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, __jsx(_JSXStyle, {\n      id: \"1933967019\",\n      __self: _this\n    }, \"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYW50b25cXERlc2t0b3BcXE5leHRcXG1ldGFsdGVjXFxwYWdlc1xccHJvZHVjdFxcW2lkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErRGEiLCJmaWxlIjoiQzpcXFVzZXJzXFxhbnRvblxcRGVza3RvcFxcTmV4dFxcbWV0YWx0ZWNcXHBhZ2VzXFxwcm9kdWN0XFxbaWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSdcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU2xpZGVyUHJvZHVjdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NsaWRlcnMvc2xpZGVyLXByb2R1Y3QuanMnXHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBSaWNoVGV4dCBmcm9tICcuL2NvbXBvbmVudHMvcmljaFRleHQnXHJcbmltcG9ydCBOdW1lcmljSW5wdXQgZnJvbSAncmVhY3QtbnVtZXJpYy1pbnB1dCc7XHJcbmltcG9ydCBSZWFjdExvYWRpbmcgZnJvbSAncmVhY3QtbG9hZGluZyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG5cclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuXHJcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XHJcbiAgICBkYXRhOiBudWxsLFxyXG4gICAgYW1vdW50OiAxXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGdldERhdGEgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGxldCByZXMgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzNy9wcm9kdWN0cz9zbHVnPScgKyBpZCk7XHJcbiAgICBzZXRTdGF0ZSh7IC4uLnN0YXRlLCBkYXRhOiByZXMuZGF0YVswXSB9KTtcclxuICB9XHJcblxyXG4gIGlmIChyb3V0ZXIucXVlcnkuaWQgJiYgIXN0YXRlLmRhdGEpIHtcclxuICAgIGdldERhdGEocm91dGVyLnF1ZXJ5LmlkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChpZCkgPT57XHJcbiAgICAkKCcuYWYtY2xhc3MtYnRuJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnLmNhcnQtYnRuLXRleHQtMScpLmZhZGVUb2dnbGUoMCk7XHJcbiAgICAkKCcuY2FydC1idG4tdGV4dC0yJykuZmFkZVRvZ2dsZSgwKTtcclxuICAgIGxldCBhbW91bnQgPSBzdGF0ZS5hbW91bnQ7XHJcbiAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgIGxldCB1bmljID0gdHJ1ZTtcclxuICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9kdWN0cycpKXtcclxuICAgICAgICBwcm9kdWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2R1Y3RzJykpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3RzKVxyXG4gICAgfVxyXG4gICAgaWYocHJvZHVjdHMubGVuZ3RoKXtcclxuICAgICAgcHJvZHVjdHMuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgIGlmKGVsLmlkID09IGlkKXtcclxuICAgICAgICAgIGVsLmFtb3VudCArPSBhbW91bnQ7XHJcbiAgICAgICAgICB1bmljID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgaWYgKHVuaWMpIHByb2R1Y3RzLnB1c2goeydpZCcgOiBpZCwnYW1vdW50JyA6IGFtb3VudCwgJ25hbWUnOiBzdGF0ZS5kYXRhLk5hbWUsICAnaW1hZ2UnOiBzdGF0ZS5kYXRhLkltYWdlc1swXS51cmwsICdwcmljZSc6IHN0YXRlLmRhdGEuUHJpY2V9KTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9kdWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2R1Y3RzKSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhbW91bnRDaGFuZ2UgPSAobnVtKSA9PntcclxuICAgIHNldFN0YXRlKHsgLi4uc3RhdGUsIGFtb3VudDogbnVtIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGlmIChzdGF0ZS5kYXRhKSB7XHJcbiAgICBjb25zb2xlLmxvZyhzdGF0ZS5kYXRhKVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmLWNsYXNzLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAgICAgIHtgIFxyXG5cclxuICAgICAgICAgICAgYH1cclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmLWNsYXNzLXdyYXBcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZi1jbGFzcy1fNi1jb2xcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGRhdGEtYW5pbWF0aW9uPVwic2xpZGVcIiBjbGFzc05hbWU9XCJhZi1jbGFzcy1zbGlkZXItMiBhZi1jbGFzcy1lY29tbWVyY2Ugdy1zbGlkZXIgcHJvZHVjdC1zbGlkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxTbGlkZXJQcm9kdWN0IGltZz17c3RhdGUuZGF0YS5JbWFnZXN9IC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmLWNsYXNzLV82LWNvbCBhZi1jbGFzcy1fNi1jb2wtbGFzdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWYtY2xhc3MtcHJvZHVjdHMxLWNvbnRlbnQtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZi1jbGFzcy1wcm9kdWN0czEtZGVzYy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxoMz57c3RhdGUuZGF0YS5OYW1lfTxiciAvPjwvaDM+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImFmLWNsYXNzLXRleHQtMTYgYWYtY2xhc3MtdGV4dC0xNi02MFwiPntzdGF0ZS5kYXRhLkZlYXR1cmVzfTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZi1jbGFzcy1wcm9kdWN0czEtcHJpY2Utd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiYWYtY2xhc3MtcHJvZHVjdHMxLXByaWNlLWhlYWRsaW5lXCI+e3N0YXRlLmFtb3VudCAqIHN0YXRlLmRhdGEuUHJpY2V9IEvEjTxiciAvPjwvaDI+XHJcbiAgICAgICAgICAgICAgICAgIDxOdW1lcmljSW5wdXQgb25DaGFuZ2U9eyhudW0pPT5hbW91bnRDaGFuZ2UobnVtKX0gY2xhc3NOYW1lPSdudW1lcmljLWlucHV0JyBtaW49ezF9IG1heD17MTB9IHZhbHVlPXtzdGF0ZS5hbW91bnR9Lz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXsoKT0+IGFkZFRvQ2FydChzdGF0ZS5kYXRhLnNsdWcpfSBjbGFzc05hbWU9XCJhZi1jbGFzcy1wcm9kdWN0czEtYWN0aW9ucy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYWYtY2xhc3MtYnRuIHctYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NhcnQtYnRuLXRleHQtMSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICBQxZlpZGF0IGRvIGtvxaHDrWt1XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NhcnQtYnRuLXRleHQtMic+XHJcbiAgICAgICAgICAgICAgICAgICAgICBPZGVicmF0IHoga2/FocOta3VcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZi1jbGFzcy1wcm9kdWN0czEtZGV0YWlscy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImFmLWNsYXNzLXRleHQtMTQgYWYtY2xhc3MtdGV4dC0xNC02MFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSaWNoVGV4dCBkYXRhPXtzdGF0ZS5kYXRhLkRlc2NyaXB0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1zY3JlZW5cIiA+IDxkaXYgY2xhc3NOYW1lPSdsb2FkaW5nLWVsZW1lbnQnPjxSZWFjdExvYWRpbmcgdHlwZT17J2J1YmJsZXMnfSBjb2xvcj1cIiNmZjM3M2FcIi8+PC9kaXY+PC9kaXY+KVxyXG5cclxuICB9XHJcbn07Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\anton\\\\\\\\Desktop\\\\\\\\Next\\\\\\\\metaltec\\\\\\\\pages\\\\\\\\product\\\\\\\\[id].js */\"), __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-_6-col\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      \"data-animation\": \"slide\",\n      className: \"jsx-1933967019\" + \" \" + \"af-class-slider-2 af-class-ecommerce w-slider product-slider\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, __jsx(SliderProduct, {\n      img: state.data.Images,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }))), __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-_6-col af-class-_6-col-last\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-content-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-desc-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      className: \"jsx-1933967019\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, state.data.Name, __jsx(\"br\", {\n      className: \"jsx-1933967019\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 40\n      }\n    })), __jsx(\"p\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-text-16 af-class-text-16-60\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, state.data.Features)), __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-price-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, __jsx(\"h2\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-price-headline\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, state.amount * state.data.Price, \" K\\u010D\", __jsx(\"br\", {\n      className: \"jsx-1933967019\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 105\n      }\n    })), __jsx(NumericInput, {\n      onChange: function onChange(num) {\n        return amountChange(num);\n      },\n      className: \"numeric-input\",\n      min: 1,\n      max: 10,\n      value: state.amount,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    })), __jsx(\"div\", {\n      onClick: function onClick() {\n        return addToCart(state.data.slug);\n      },\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-actions-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"jsx-1933967019\" + \" \" + \"af-class-btn w-button\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + 'cart-btn-text-1',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, \"P\\u0159idat do ko\\u0161\\xEDku\"), __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + 'cart-btn-text-2',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \"Odebrat z ko\\u0161\\xEDku\"))), __jsx(\"div\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-products1-details-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, __jsx(\"p\", {\n      className: \"jsx-1933967019\" + \" \" + \"af-class-text-14 af-class-text-14-60\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, __jsx(RichText, {\n      data: state.data.Description,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }))))))));\n  } else {\n    return __jsx(\"div\", {\n      className: \"loading-screen\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, \" \", __jsx(\"div\", {\n      className: \"loading-element\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 47\n      }\n    }, __jsx(ReactLoading, {\n      type: 'bubbles',\n      color: \"#ff373a\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 80\n      }\n    })));\n  }\n}, \"jm12eoa6cxAEZTXCIxRflJpfISQ=\", false, function () {\n  return [useRouter];\n});","map":{"version":3,"sources":["C:/Users/anton/Desktop/Next/metaltec/pages/product/[id].js"],"names":["useRouter","$","React","useState","SliderProduct","axios","RichText","NumericInput","ReactLoading","router","data","amount","state","setState","getData","id","get","res","query","addToCart","toggleClass","fadeToggle","products","unic","localStorage","getItem","JSON","parse","console","log","length","forEach","el","push","Name","Images","url","Price","setItem","stringify","amountChange","num","Features","slug","Description"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\r\nimport $ from 'jquery'\r\nimport React, { useState } from 'react';\r\nimport SliderProduct from '../../components/sliders/slider-product.js'\r\nimport axios from 'axios';\r\nimport RichText from './components/richText'\r\nimport NumericInput from 'react-numeric-input';\r\nimport ReactLoading from 'react-loading';\r\n\r\n\r\nexport default () => {\r\n\r\n  const router = useRouter();\r\n\r\n  const [state, setState] = useState({\r\n    data: null,\r\n    amount: 1\r\n  });\r\n\r\n  const getData = async (id) => {\r\n    let res = await axios.get('http://localhost:1337/products?slug=' + id);\r\n    setState({ ...state, data: res.data[0] });\r\n  }\r\n\r\n  if (router.query.id && !state.data) {\r\n    getData(router.query.id);\r\n  }\r\n\r\n  const addToCart = (id) =>{\r\n    $('.af-class-btn').toggleClass('active');\r\n    $('.cart-btn-text-1').fadeToggle(0);\r\n    $('.cart-btn-text-2').fadeToggle(0);\r\n    let amount = state.amount;\r\n    let products = [];\r\n    let unic = true;\r\n    if(localStorage.getItem('products')){\r\n        products = JSON.parse(localStorage.getItem('products'));\r\n        console.log(products)\r\n    }\r\n    if(products.length){\r\n      products.forEach(el => {\r\n        console.log(products);\r\n        if(el.id == id){\r\n          el.amount += amount;\r\n          unic = false;\r\n        }\r\n      })\r\n    }\r\n    if (unic) products.push({'id' : id,'amount' : amount, 'name': state.data.Name,  'image': state.data.Images[0].url, 'price': state.data.Price});\r\n    localStorage.setItem('products', JSON.stringify(products));\r\n  }\r\n\r\n  const amountChange = (num) =>{\r\n    setState({ ...state, amount: num });\r\n  }\r\n\r\n\r\n  if (state.data) {\r\n    console.log(state.data)\r\n    return (\r\n      <>\r\n        <div className=\"af-class-section\">\r\n          <style jsx>\r\n            {` \r\n\r\n            `}\r\n          </style>\r\n          <div className=\"af-class-wrap\">\r\n            <div className=\"af-class-_6-col\">\r\n              <div data-animation=\"slide\" className=\"af-class-slider-2 af-class-ecommerce w-slider product-slider\">\r\n                <SliderProduct img={state.data.Images} />\r\n              </div>\r\n            </div>\r\n            <div className=\"af-class-_6-col af-class-_6-col-last\">\r\n              <div className=\"af-class-products1-content-wrap\">\r\n                <div className=\"af-class-products1-desc-wrap\">\r\n                  <h3>{state.data.Name}<br /></h3>\r\n                  <p className=\"af-class-text-16 af-class-text-16-60\">{state.data.Features}</p>\r\n                </div>\r\n                <div className=\"af-class-products1-price-wrap\">\r\n                  <h2 className=\"af-class-products1-price-headline\">{state.amount * state.data.Price} Kč<br /></h2>\r\n                  <NumericInput onChange={(num)=>amountChange(num)} className='numeric-input' min={1} max={10} value={state.amount}/>\r\n                </div>\r\n                <div onClick={()=> addToCart(state.data.slug)} className=\"af-class-products1-actions-wrap\">\r\n                  <a href=\"#\" className=\"af-class-btn w-button\">\r\n                    \r\n                    <div className='cart-btn-text-1'>\r\n                      Přidat do košíku\r\n                    </div>\r\n                    <div className='cart-btn-text-2'>\r\n                      Odebrat z košíku\r\n                    </div>\r\n                    </a>\r\n                  </div>\r\n                <div className=\"af-class-products1-details-wrap\">\r\n                  <p className=\"af-class-text-14 af-class-text-14-60\">\r\n                    <RichText data={state.data.Description} />\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return (<div className=\"loading-screen\" > <div className='loading-element'><ReactLoading type={'bubbles'} color=\"#ff373a\"/></div></div>)\r\n\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}