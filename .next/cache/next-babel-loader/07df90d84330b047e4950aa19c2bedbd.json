{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\Next\\\\metaltec\\\\components\\\\cart-nav\\\\cart-nav.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport $ from 'jquery';\nimport React, { useEffect, useState, Fragment } from 'react';\n\nvar CartNav = function CartNav(props) {\n  _s();\n\n  var _useState = useState({\n    data: [],\n    sum: '(ツ)'\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var getStorage = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var cartItems, dataStorage, sum;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return localStorage.getItem('products');\n\n            case 2:\n              cartItems = _context.sent;\n              _context.next = 5;\n              return JSON.parse(cartItems);\n\n            case 5:\n              dataStorage = _context.sent;\n\n              if (dataStorage.length) {\n                if (state.data.length != dataStorage.length) {\n                  sum = 0;\n                  dataStorage.forEach(function (el) {\n                    sum += parseInt(el.price, 10) * el.amount;\n                  });\n                  setState(_objectSpread(_objectSpread({}, state), {}, {\n                    data: dataStorage,\n                    sum: sum\n                  }));\n                }\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getStorage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getStorage();\n  });\n\n  var deleteProduct = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return props.deleteProduct(id);\n\n            case 2:\n              getStorage();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteProduct(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var cartOpen = function cartOpen(num) {\n    $('.dropdown-' + num).show();\n    getStorage();\n  };\n\n  var cartClose = function cartClose() {\n    $('.w-dropdown-list').hide();\n  };\n\n  return __jsx(\"div\", {\n    className: \"af-class-cart-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    \"data-hover\": 1,\n    \"data-delay\": 0,\n    className: \"af-class-dropdown w-dropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    onMouseEnter: function onMouseEnter() {\n      return cartOpen(4);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return cartClose();\n    },\n    className: \"af-class-dropdown-toggle af-class-cart-toggle w-dropdown-toggle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: require(\"../../images/shopping-cart-empty-side-view.png\"),\n    loading: \"lazy\",\n    alt: true,\n    className: \"af-class-image-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }))), __jsx(\"nav\", {\n    onMouseEnter: function onMouseEnter() {\n      return cartOpen(4);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return cartClose();\n    },\n    className: \"af-class-navigation-dropdown af-class-dropdown-cart w-dropdown-list dropdown-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-dropdown-pointer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-dropdown-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, state.data.length ? __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, state.data.map(function (item) {\n    return __jsx(\"a\", {\n      href: \"#\",\n      className: \"af-class-dropdown-link af-class-dropdown-cart-item w-inline-block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 49\n      }\n    }, __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 53\n      }\n    }, __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-amount\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 57\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 61\n      }\n    }, \"x\", item.amount)), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-img\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 57\n      }\n    }, __jsx(\"img\", {\n      src: \"http://localhost:1337\".concat(item.image),\n      loading: \"lazy\",\n      sizes: \"100vw\",\n      s: true,\n      alt: true,\n      className: \"af-class-image-7\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 101\n      }\n    })), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-desc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 57\n      }\n    }, __jsx(\"h1\", {\n      className: \"af-class-dropdown-cart-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 61\n      }\n    }, item.name), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-cost\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 61\n      }\n    }, item.price, \" K\\u010D\")), __jsx(\"div\", {\n      onClick: function onClick() {\n        return deleteProduct(item.id);\n      },\n      className: \"af-class-dropdown-item-control\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 57\n      }\n    }, __jsx(\"img\", {\n      src: require(\"../../images/cross.png\"),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 144\n      }\n    }))));\n  })) : __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 41\n    }\n  }, __jsx(\"div\", {\n    className: \"prazdni-kosik\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 45\n    }\n  }, \"Ko\\u0161\\xEDk pr\\xE1zdn\\xFD\"))), __jsx(\"div\", {\n    className: \"af-class-dropdown-cart-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-sum-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, __jsx(\"h5\", {\n    className: \"af-class-sum-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }, \"Sou\\u010Det\"), __jsx(\"h5\", {\n    className: \"af-class-sum-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, state.sum, \" K\\u010D\")), __jsx(\"div\", {\n    className: \"af-class-dropdown-cart-btn-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, __jsx(Link, {\n    href: \"/cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 37\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn w-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 56\n    }\n  }, \"K pokladn\\u011B\")), __jsx(Link, {\n    href: \"/cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn af-class-dropdown-cart-btn-2 w-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 56\n    }\n  }, \"Do ko\\u0161\\xEDku\"))))), __jsx(\"div\", {\n    className: \"af-class-pointer af-class-cart-pointer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  })))));\n};\n\n_s(CartNav, \"OYnCNgoHok9sz3EzSpqNtx16Z/Y=\");\n\n_c = CartNav;\nexport default CartNav;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartNav\");","map":{"version":3,"sources":["C:/Users/anton/Desktop/Next/metaltec/components/cart-nav/cart-nav.js"],"names":["Link","$","React","useEffect","useState","Fragment","CartNav","props","data","sum","state","setState","getStorage","localStorage","getItem","cartItems","JSON","parse","dataStorage","length","forEach","el","parseInt","price","amount","deleteProduct","id","cartOpen","num","show","cartClose","hide","require","map","item","image","name"],"mappings":"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","sourcesContent":["import Link from 'next/link'\r\nimport $ from 'jquery'\r\nimport React, { useEffect, useState, Fragment } from 'react';\r\n\r\n\r\nconst CartNav = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        data: [],\r\n        sum: '(ツ)'\r\n    });\r\n\r\n    const getStorage = async () => {\r\n        let cartItems = await localStorage.getItem('products');\r\n        let dataStorage = await JSON.parse(cartItems);\r\n        if(dataStorage.length){\r\n            if (state.data.length != dataStorage.length) {\r\n                let sum = 0;\r\n                dataStorage.forEach(el => {\r\n                    sum += parseInt(el.price, 10) * el.amount;\r\n                });\r\n                setState({ ...state, data: dataStorage, sum: sum })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getStorage();\r\n    });\r\n\r\n    const deleteProduct = async (id) => {\r\n        await props.deleteProduct(id);\r\n        getStorage();\r\n    }\r\n\r\n\r\n    const cartOpen = (num) => {\r\n        $('.dropdown-' + num).show();\r\n        getStorage();\r\n    }\r\n\r\n    const cartClose = () => {\r\n        $('.w-dropdown-list').hide();\r\n    }\r\n\r\n    return (\r\n        <div className=\"af-class-cart-container\">\r\n\r\n            <div data-hover={1} data-delay={0} className=\"af-class-dropdown w-dropdown\">\r\n                <Link href='/cart'>\r\n                    <div onMouseEnter={() => cartOpen(4)} onMouseLeave={() => cartClose()} className=\"af-class-dropdown-toggle af-class-cart-toggle w-dropdown-toggle\">\r\n                        <img src={require(\"../../images/shopping-cart-empty-side-view.png\")} loading=\"lazy\" alt className=\"af-class-image-3\" />\r\n                    </div>\r\n                </Link>\r\n                <nav onMouseEnter={() => cartOpen(4)} onMouseLeave={() => cartClose()} className=\"af-class-navigation-dropdown af-class-dropdown-cart w-dropdown-list dropdown-4\">\r\n                    <div className=\"af-class-dropdown-pointer\">\r\n                        <div className=\"af-class-dropdown-wrapper\">\r\n\r\n                            {/* // */}\r\n\r\n                            <Fragment>\r\n                                {state.data.length ? (\r\n                                    <Fragment>{\r\n                                        state.data.map((item) => {\r\n                                            return (\r\n                                                <a href=\"#\" className=\"af-class-dropdown-link af-class-dropdown-cart-item w-inline-block\">\r\n                                                    <div className=\"af-class-dropdown-cart-item\">\r\n                                                        <div className=\"af-class-dropdown-cart-amount\">\r\n                                                            <div>x{item.amount}</div>\r\n                                                        </div>\r\n                                                        <div className=\"af-class-dropdown-cart-img\"><img src={`http://localhost:1337${item.image}`} loading=\"lazy\" sizes=\"100vw\" s alt className=\"af-class-image-7\" /></div>\r\n                                                        <div className=\"af-class-dropdown-cart-desc\">\r\n                                                            <h1 className=\"af-class-dropdown-cart-title\">{item.name}</h1>\r\n                                                            <div className=\"af-class-dropdown-cart-cost\">{item.price} Kč</div>\r\n                                                        </div>\r\n                                                        <div onClick={() => deleteProduct(item.id)} className=\"af-class-dropdown-item-control\"><img src={require(\"../../images/cross.png\")} loading=\"lazy\" alt className=\"af-class-image-8\" /></div>\r\n                                                    </div>\r\n                                                </a>\r\n                                            )\r\n                                        })\r\n                                    }</Fragment>\r\n                                ) : (\r\n                                        <Fragment>\r\n                                            <div className='prazdni-kosik'>\r\n                                                Košík prázdný\r\n                        </div>\r\n\r\n                                        </Fragment>\r\n                                    )}\r\n                            </Fragment>\r\n\r\n\r\n\r\n                            {/* // */}\r\n\r\n                            <div className=\"af-class-dropdown-cart-control\">\r\n\r\n                                <div className=\"af-class-sum-container\">\r\n                                    <h5 className=\"af-class-sum-title\">Součet</h5>\r\n                                    <h5 className=\"af-class-sum-title\">{state.sum} Kč</h5>\r\n                                </div>\r\n\r\n                                <div className=\"af-class-dropdown-cart-btn-container\">\r\n                                    <Link href='/cart'><a href=\"#\" className=\"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn w-button\">K pokladně</a>\r\n                                    </Link>\r\n                                    <Link href='/cart'><a href=\"#\" className=\"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn af-class-dropdown-cart-btn-2 w-button\">Do košíku</a>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"af-class-pointer af-class-cart-pointer\" />\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartNav\r\n\r\n"]},"metadata":{},"sourceType":"module"}