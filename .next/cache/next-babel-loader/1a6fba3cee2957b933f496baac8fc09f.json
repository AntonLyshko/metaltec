{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Link from 'next/link';\nimport $ from 'jquery';\nimport React, { useEffect, useState, Fragment } from 'react';\n\nconst CartNav = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    data: [],\n    sum: '(ãƒ„)'\n  });\n\n  const getStorage = async () => {\n    let cartItems = await localStorage.getItem('products');\n    let dataStorage = await JSON.parse(cartItems);\n\n    if (dataStorage) {\n      if (state.data.length != dataStorage.length) {\n        let sum = 0;\n        dataStorage.forEach(el => {\n          sum += parseInt(el.price, 10) * el.amount;\n        });\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          data: dataStorage,\n          sum: sum\n        }));\n      }\n    }\n  };\n\n  useEffect(() => {\n    getStorage();\n  });\n\n  const deleteProduct = async id => {\n    await props.deleteProduct(id);\n    getStorage();\n  };\n\n  const cartOpen = num => {\n    $('.dropdown-' + num).show();\n    getStorage();\n  };\n\n  const cartClose = () => {\n    $('.w-dropdown-list').hide();\n  };\n\n  return __jsx(\"div\", {\n    className: \"af-class-cart-container\"\n  }, __jsx(\"div\", {\n    \"data-hover\": 1,\n    \"data-delay\": 0,\n    className: \"af-class-dropdown w-dropdown\"\n  }, __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"div\", {\n    onMouseEnter: () => cartOpen(4),\n    onMouseLeave: () => cartClose(),\n    className: \"af-class-dropdown-toggle af-class-cart-toggle w-dropdown-toggle\"\n  }, __jsx(\"img\", {\n    src: require(\"../../images/shopping-cart-empty-side-view.png\"),\n    loading: \"lazy\",\n    alt: true,\n    className: \"af-class-image-3\"\n  }))), __jsx(\"nav\", {\n    onMouseEnter: () => cartOpen(4),\n    onMouseLeave: () => cartClose(),\n    className: \"af-class-navigation-dropdown af-class-dropdown-cart w-dropdown-list dropdown-4\"\n  }, __jsx(\"div\", {\n    className: \"af-class-dropdown-pointer\"\n  }, __jsx(\"div\", {\n    className: \"af-class-dropdown-wrapper\"\n  }, __jsx(Fragment, null, state.data.length ? __jsx(Fragment, null, state.data.map(item => {\n    return __jsx(\"a\", {\n      href: \"#\",\n      className: \"af-class-dropdown-link af-class-dropdown-cart-item w-inline-block\"\n    }, __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-item\"\n    }, __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-amount\"\n    }, __jsx(\"div\", null, \"x\", item.amount)), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-img\"\n    }, __jsx(\"img\", {\n      src: `http://localhost:1337${item.image}`,\n      loading: \"lazy\",\n      sizes: \"100vw\",\n      s: true,\n      alt: true,\n      className: \"af-class-image-7\"\n    })), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-desc\"\n    }, __jsx(\"h1\", {\n      className: \"af-class-dropdown-cart-title\"\n    }, item.name), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-cost\"\n    }, item.price, \" K\\u010D\")), __jsx(\"div\", {\n      onClick: () => deleteProduct(item.id),\n      className: \"af-class-dropdown-item-control\"\n    }, __jsx(\"img\", {\n      src: require(\"../../images/cross.png\"),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-8\"\n    }))));\n  })) : __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"prazdni-kosik\"\n  }, \"Ko\\u0161\\xEDk pr\\xE1zdn\\xFD\"))), __jsx(\"div\", {\n    className: \"af-class-dropdown-cart-control\"\n  }, __jsx(\"div\", {\n    className: \"af-class-sum-container\"\n  }, __jsx(\"h5\", {\n    className: \"af-class-sum-title\"\n  }, \"Sou\\u010Det\"), __jsx(\"h5\", {\n    className: \"af-class-sum-title\"\n  }, state.sum, \" K\\u010D\")), __jsx(\"div\", {\n    className: \"af-class-dropdown-cart-btn-container\"\n  }, __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn w-button\"\n  }, \"K pokladn\\u011B\")), __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button af-class-default-button af-class-big-default af-class-dropdown-cart-btn af-class-dropdown-cart-btn-2 w-button\"\n  }, \"Do ko\\u0161\\xEDku\"))))), __jsx(\"div\", {\n    className: \"af-class-pointer af-class-cart-pointer\"\n  })))));\n};\n\nexport default CartNav;","map":null,"metadata":{},"sourceType":"module"}