{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\Next\\\\metaltec\\\\pages\\\\cart.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport $, { Callbacks, data } from 'jquery';\nimport React, { useEffect, useState, Fragment } from 'react';\nimport axios from 'axios';\n\nvar Cart = function Cart(props) {\n  _s();\n\n  var _useState = useState({\n    data: []\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var getStorage = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var cartItems, dataStorage, sum;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(state);\n              _context.next = 3;\n              return localStorage.getItem('products');\n\n            case 3:\n              cartItems = _context.sent;\n              _context.next = 6;\n              return JSON.parse(cartItems);\n\n            case 6:\n              dataStorage = _context.sent;\n\n              if (state.data.length != dataStorage.length) {\n                sum = 0;\n                dataStorage.forEach(function (el) {\n                  sum += parseInt(el.price, 10) * el.amount;\n                });\n                setState(_objectSpread(_objectSpread({}, state), {}, {\n                  data: dataStorage,\n                  sum: sum\n                }));\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getStorage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {});\n\n  var deleteProduct = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return props.deleteProduct(id);\n\n            case 2:\n              getStorage(); // console.log(id)\n              // let cartItems = await localStorage.getItem('products');\n              // let dataStorage = await JSON.parse(cartItems);\n              // dataStorage.forEach((item, index, array) => {\n              //   if (item.id == id){\n              //     dataStorage.splice(index, 1);\n              //   }\n              // });\n              // console.log('deleting')\n              // console.log(dataStorage)\n              // localStorage.setItem('products', JSON.stringify(dataStorage));\n              // getStorage();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteProduct(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var plus = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(index, id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log('plus');\n              props.plus(index, id); // let cartItems = await localStorage.getItem('products');\n              // let dataStorage = await JSON.parse(cartItems);\n              // const callbackIndex = (index) =>{\n              //   if(index){\n              //     dataStorage[index].amount += 1;\n              //     localStorage.setItem('products', JSON.stringify(dataStorage));\n              //     let sum = 0;\n              //     dataStorage.forEach(el => {\n              //       sum += parseInt(el.price, 10) * el.amount;\n              //     });\n              //     setState({ ...state, data: dataStorage, sum: sum })\n              //   }\n              // } \n              // dataStorage.forEach((item, index, array) => {\n              //   if (item.id == id) {\n              //     callbackIndex(index)\n              //   }\n              // });\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function plus(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var minus = function minus(index, id) {\n    console.log('minus');\n    props.minus(index, id); // let sum = 0;\n    // let cartItems = await localStorage.getItem('products');\n    // let dataStorage = await JSON.parse(cartItems);\n    // dataStorage[index].amount -= 1;\n    // if(dataStorage[index].amount <= 0) return deleteProduct(id)\n    // await dataStorage.forEach(el => {\n    //   sum += parseInt(el.price, 10) * el.amount;\n    // });\n    // localStorage.setItem('products', JSON.stringify(dataStorage));\n    // setState({ ...state, data: dataStorage, sum: sum })\n  };\n\n  return __jsx(\"span\", {\n    className: \"af-view\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-main-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-container w-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    className: \"af-class-block-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, __jsx(\"strong\", {\n    className: \"af-class-bold-text-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 52\n    }\n  }, \"Ko\\u0161\\xEDk\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 107\n    }\n  })), __jsx(\"div\", {\n    className: \"af-class-cart-page-container w-clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-order-step-container w-clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-order-step\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-cart-items-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 23\n    }\n  }, props.data.length ? __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 27\n    }\n  }, props.data.map(function (item, index) {\n    return __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      className: \"af-class-amount-control\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 35\n      }\n    }, __jsx(\"div\", {\n      onClick: function onClick() {\n        return plus(index, item.id);\n      },\n      className: \"af-class-plus-amount\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, __jsx(\"img\", {\n      src: require(\"../images/plus.png\"),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 39\n      }\n    })), __jsx(\"div\", {\n      className: \"af-class-amount\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: \"af-class-text-block-9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 39\n      }\n    }, item.amount)), __jsx(\"div\", {\n      className: \"af-class-minus-amount\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    }, __jsx(\"img\", {\n      onClick: function onClick() {\n        return minus(index, item.id);\n      },\n      src: require(\"../images/minys.png\"),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 39\n      }\n    }))), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-img\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 35\n      }\n    }, __jsx(\"img\", {\n      src: \"http://localhost:1337\".concat(item.image),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-7 cart-preview-img\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 79\n      }\n    })), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-desc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 35\n      }\n    }, __jsx(\"h1\", {\n      className: \"af-class-dropdown-cart-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 37\n      }\n    }, item.name), __jsx(\"div\", {\n      className: \"af-class-dropdown-cart-cost\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 37\n      }\n    }, item.price, \" K\\u010D\")), __jsx(\"div\", {\n      onClick: function onClick() {\n        return deleteProduct(item.id);\n      },\n      className: \"af-class-dropdown-item-control\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 35\n      }\n    }, __jsx(\"img\", {\n      src: require(\"../images/cross.png\"),\n      loading: \"lazy\",\n      alt: true,\n      className: \"af-class-image-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 122\n      }\n    })));\n  })) : __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"prazdni-kosik\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 31\n    }\n  }, \"Ko\\u0161\\xEDk pr\\xE1zdn\\xFD\")))), __jsx(\"div\", {\n    className: \"af-class-cart-page-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-cart-page-doprava\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-doprava-select-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-doprava-select w-embed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 27\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, __jsx(\"select\", {\n    className: \"af-class-doprava-select-html\",\n    size: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 31\n    }\n  }, __jsx(\"option\", {\n    className: \"af-class-doprava-option\",\n    selected: true,\n    value: 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }, \"Osobn\\xED odb\\u011Br\"), __jsx(\"option\", {\n    className: \"af-class-doprava-option\",\n    value: 75,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, \"\\u010Cesk\\xE1 po\\u0161ta Bal\\xEDk do ruky\"), __jsx(\"option\", {\n    className: \"af-class-doprava-option\",\n    value: 89,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 33\n    }\n  }, \"PPL standardn\\xED doru\\u010Den\\xED\"))), __jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: \"\\n   .af-view .af-class-doprava-select-html{\\n      border: none;\\n      padding: 5px 5px 0px 5px;\\n      border-radius: 5px;\\n     }\\n   .af-view .af-class-doprava-option{\\n   \\t\\tborder-radius: 5px;\\n      padding: 2px;\\n   }\\n   .af-view .af-class-doprava-option:hover{\\n   \\t\\tbackground: #f4f4f4;\\n   }\\n   \"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }))), __jsx(\"div\", {\n    className: \"af-class-sum-sum\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, __jsx(\"h5\", {\n    className: \"af-class-sum-sum-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 27\n    }\n  }, \"0\"), __jsx(\"h5\", {\n    className: \"af-class-sum-title af-class-page af-class-doprava\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 27\n    }\n  }, \" K\\u010D\"))), __jsx(\"div\", {\n    className: \"af-class-cart-page-sum\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-sum-container af-class-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, __jsx(\"h5\", {\n    className: \"af-class-sum-title af-class-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 27\n    }\n  }, \"Sou\\u010Det\"), __jsx(\"h5\", {\n    className: \"af-class-sum-title af-class-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 27\n    }\n  }, props.data.sum, \" K\\u010D\")))), __jsx(\"div\", {\n    className: \"af-class-cart-page-btn-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button-2 af-class-order-btn-1 w-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 71\n    }\n  }, \"Platit\"))), __jsx(\"div\", {\n    className: \"af-class-order-step\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"af-class-cart-page-btn-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"af-class-button-2 w-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 71\n    }\n  }, \"Platit\")))), __jsx(\"div\", {\n    className: \"af-class-cart-script w-embed w-script\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })))))));\n};\n\n_s(Cart, \"NGNCJ+rb8qoIAhWfF/FkxhBa1FY=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/anton/Desktop/Next/metaltec/pages/cart.js"],"names":["Link","$","Callbacks","data","React","useEffect","useState","Fragment","axios","Cart","props","state","setState","getStorage","console","log","localStorage","getItem","cartItems","JSON","parse","dataStorage","length","sum","forEach","el","parseInt","price","amount","deleteProduct","id","plus","index","minus","map","item","require","image","name","__html"],"mappings":"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","sourcesContent":["import Link from 'next/link'\nimport $, { Callbacks, data } from 'jquery'\nimport React, { useEffect, useState, Fragment } from 'react';\nimport axios from 'axios';\n\n\nconst Cart = (props) => {\n\n  const [state, setState] = useState({\n    data: [],\n  });\n\n  const getStorage = async () => {\n    console.log(state);\n    let cartItems = await localStorage.getItem('products');\n    let dataStorage = await JSON.parse(cartItems);\n    if (state.data.length != dataStorage.length) {\n      let sum = 0;\n      dataStorage.forEach(el => {\n        sum += parseInt(el.price, 10) * el.amount;\n      });\n      setState({ ...state, data: dataStorage, sum: sum })\n    }\n  }\n\n  useEffect(() => {\n    \n  });\n\n  const deleteProduct = async (id) => {\n    await props.deleteProduct(id);\n    getStorage();\n    // console.log(id)\n    // let cartItems = await localStorage.getItem('products');\n    // let dataStorage = await JSON.parse(cartItems);\n    // dataStorage.forEach((item, index, array) => {\n    //   if (item.id == id){\n    //     dataStorage.splice(index, 1);\n    //   }\n    // });\n  \n    // console.log('deleting')\n    // console.log(dataStorage)\n    // localStorage.setItem('products', JSON.stringify(dataStorage));\n    // getStorage();\n  }\n\n  const plus = async (index, id) =>{\n    \n    console.log('plus')\n    props.plus(index, id);\n    // let cartItems = await localStorage.getItem('products');\n    // let dataStorage = await JSON.parse(cartItems);\n    // const callbackIndex = (index) =>{\n    //   if(index){\n    //     dataStorage[index].amount += 1;\n    //     localStorage.setItem('products', JSON.stringify(dataStorage));\n        \n    //     let sum = 0;\n    //     dataStorage.forEach(el => {\n    //       sum += parseInt(el.price, 10) * el.amount;\n    //     });\n    //     setState({ ...state, data: dataStorage, sum: sum })\n    //   }\n    // } \n    // dataStorage.forEach((item, index, array) => {\n    //   if (item.id == id) {\n    //     callbackIndex(index)\n    //   }\n    // });\n  }\n\n\n  const minus = (index, id) =>{\n    console.log('minus')\n    props.minus(index, id);\n    // let sum = 0;\n    // let cartItems = await localStorage.getItem('products');\n    // let dataStorage = await JSON.parse(cartItems);\n    \n    // dataStorage[index].amount -= 1;\n    // if(dataStorage[index].amount <= 0) return deleteProduct(id)\n    // await dataStorage.forEach(el => {\n    //   sum += parseInt(el.price, 10) * el.amount;\n    // });\n    // localStorage.setItem('products', JSON.stringify(dataStorage));\n    // setState({ ...state, data: dataStorage, sum: sum })\n  }\n\n  return (\n\n    <span className=\"af-view\">\n      <div className=\"af-class-body\">\n        <div className=\"af-class-main-wrapper\">\n          <div className=\"af-class-container w-container\">\n            <div className=\"af-class-block\">\n              <h1 className=\"af-class-block-title\"><strong className=\"af-class-bold-text-3\">Košík</strong><br /></h1>\n              <div className=\"af-class-cart-page-container w-clearfix\">\n                <div className=\"af-class-order-step-container w-clearfix\">\n                  <div className=\"af-class-order-step\">\n                    <div className=\"af-class-cart-items-container\">\n                      <Fragment>\n                        {props.data.length ? (\n                          <Fragment>{\n                            props.data.map((item, index) => {\n                              \n                              return (\n\n                                <div className=\"af-class-dropdown-cart-item\">\n                                  <div className=\"af-class-amount-control\">\n                                    <div onClick={()=>plus(index, item.id)} className=\"af-class-plus-amount\">\n                                      <img src={require(\"../images/plus.png\")} loading=\"lazy\" alt className=\"af-class-image-9\" />\n                                      </div>\n                                    <div className=\"af-class-amount\">\n                                      <div className=\"af-class-text-block-9\">{item.amount}</div>\n                                    </div>\n                                    <div className=\"af-class-minus-amount\">\n                                      <img onClick={()=>minus(index, item.id)} src={require(\"../images/minys.png\")} loading=\"lazy\" alt className=\"af-class-image-10\" />\n                                      </div>\n                                  </div>\n                                  <div className=\"af-class-dropdown-cart-img\"><img src={`http://localhost:1337${item.image}`} loading=\"lazy\" alt className=\"af-class-image-7 cart-preview-img\" /></div>\n                                  <div className=\"af-class-dropdown-cart-desc\">\n                                    <h1 className=\"af-class-dropdown-cart-title\">{item.name}</h1>\n                                    <div className=\"af-class-dropdown-cart-cost\">{item.price} Kč</div>\n                                  </div>\n                                  <div onClick={() => deleteProduct(item.id)} className=\"af-class-dropdown-item-control\"><img src={require(\"../images/cross.png\")} loading=\"lazy\" alt className=\"af-class-image-8\" /></div>\n                                </div>\n                              )\n                            })\n                          }</Fragment>\n                        ) : (\n                            <Fragment>\n                              <div className='prazdni-kosik'>\n                                Košík prázdný\n                        </div>\n\n                            </Fragment>\n                          )}\n                      </Fragment>\n                    </div>\n\n                    <div className=\"af-class-cart-page-control\">\n\n                      <div className=\"af-class-cart-page-doprava\">\n                        <div className=\"af-class-doprava-select-container\">\n                          <div className=\"af-class-doprava-select w-embed\">\n                            <p>\n                              <select className=\"af-class-doprava-select-html\" size={1}>\n                                <option className=\"af-class-doprava-option\" selected value={0}>Osobní odběr</option>\n                                <option className=\"af-class-doprava-option\" value={75}>Česká pošta Balík do ruky</option>\n                                <option className=\"af-class-doprava-option\" value={89}>PPL standardní doručení</option>\n                              </select>\n                            </p>\n                            <style dangerouslySetInnerHTML={{ __html: \"\\n   .af-view .af-class-doprava-select-html{\\n      border: none;\\n      padding: 5px 5px 0px 5px;\\n      border-radius: 5px;\\n     }\\n   .af-view .af-class-doprava-option{\\n   \\t\\tborder-radius: 5px;\\n      padding: 2px;\\n   }\\n   .af-view .af-class-doprava-option:hover{\\n   \\t\\tbackground: #f4f4f4;\\n   }\\n   \" }} >\n                            </style>\n                          </div>\n                        </div>\n                        <div className=\"af-class-sum-sum\">\n                          <h5 className=\"af-class-sum-sum-content\">0</h5>\n                          <h5 className=\"af-class-sum-title af-class-page af-class-doprava\"> Kč</h5>\n                        </div>\n                      </div>\n\n                      <div className=\"af-class-cart-page-sum\">\n                        <div className=\"af-class-sum-container af-class-page\">\n                          <h5 className=\"af-class-sum-title af-class-page\">Součet</h5>\n                          <h5 className=\"af-class-sum-title af-class-page\">{props.data.sum} Kč</h5>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"af-class-cart-page-btn-container\"><a href=\"#\" className=\"af-class-button-2 af-class-order-btn-1 w-button\">Platit</a></div>\n                  </div>\n                  <div className=\"af-class-order-step\">\n                    <div className=\"af-class-cart-page-btn-container\"><a href=\"#\" className=\"af-class-button-2 w-button\">Platit</a></div>\n                  </div>\n\n                </div>\n                <div className=\"af-class-cart-script w-embed w-script\">\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </span>\n  )\n}\n\nexport default Cart"]},"metadata":{},"sourceType":"module"}